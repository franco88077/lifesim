{% extends "layouts/base.html" %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('banking.static', filename='styles/banking.css') }}" />
{% endblock %}

{% block content %}
  <div class="banking-shell">
    <section class="banking-subnav" aria-label="Banking navigation">
      <nav class="banking-tabs">
        <a
          href="{{ url_for('banking.home') }}"
          class="banking-tab{% if active_banking_tab == 'home' %} is-active{% endif %}"
          {% if active_banking_tab == 'home' %}aria-current="page"{% endif %}
        >
          Banking Home
        </a>
        <a
          href="{{ url_for('banking.transfer') }}"
          class="banking-tab{% if active_banking_tab == 'transfer' %} is-active{% endif %}"
          {% if active_banking_tab == 'transfer' %}aria-current="page"{% endif %}
        >
          Banking Transfer
        </a>
        <a
          href="{{ url_for('banking.settings') }}"
          class="banking-tab{% if active_banking_tab == 'settings' %} is-active{% endif %}"
          {% if active_banking_tab == 'settings' %}aria-current="page"{% endif %}
        >
          Banking Settings
        </a>
      </nav>
    </section>

    <section class="banking-overview">
      <header class="banking-overview__header">
        <h1>Lifesim â€” Banking Home</h1>
        <p>
          {{ bank_settings.bank_name }} keeps your cash, checking, and savings balances synchronized so every
          decision is recorded and visible.
        </p>
      </header>
      <div class="account-grid">
        {% for account in accounts %}
          <article class="account-card" data-account-card data-account="{{ account.id }}">
            <header>
              <p class="account-card__type">{{ account.type }}</p>
              <h2>{{ account.name }}</h2>
            </header>
            <p class="account-card__balance">
              <span data-balance-value>{{ account.display_balance }}</span>
            </p>
            <p class="account-card__hint">Balances update instantly after each transfer.</p>
          </article>
        {% endfor %}
      </div>
    </section>

    <section class="banking-insights" aria-label="Banking information">
      <header>
        <h2>Account insights and fees</h2>
        <p>
          Use the live ledger to act before fees or penalties hit and to capture the interest your savings earns.
        </p>
      </header>
      <div class="insight-grid">
        {% for insight in account_insights %}
          <article class="insight-card">
            <h3>{{ insight.account }}</h3>
            <ul class="insight-list">
              {% for detail in insight.details %}
                <li class="insight-item">
                  <span class="insight-label">{{ detail.label }}</span>
                  <span class="insight-value">{{ detail.value }}</span>
                </li>
              {% endfor %}
            </ul>
          </article>
        {% endfor %}
      </div>
      <footer class="insight-footer">
        <p>
          Monitor balances weekly and rebalance through the transfer hub ahead of billing cycles. Captured
          transactions double as an audit trail for every move.
        </p>
      </footer>
    </section>
  </div>
{% endblock %}
